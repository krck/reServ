Here are the general steps to create a WebSocket-based chat application in C++:

    Establish a TCP connection:
        Create a socket using the socket system call.
        Bind the socket to a specific IP address and port using the bind system call.
        Start listening for incoming connections using the listen system call.
        Accept incoming client connections using the accept system call.

    Perform the WebSocket handshake:
        Receive the initial HTTP handshake request from the client.
        Parse the request to extract important information like the WebSocket key.
        Generate the WebSocket handshake response and send it back to the client.

    Handle WebSocket communication:
        Read WebSocket frames from the client.
        Parse the frames to determine the message type (e.g., text, binary, close).
        Take appropriate action based on the message type.
        Send WebSocket frames to the client.

    Implement the chat functionality:
    - Broadcast: Send a message received from a client to all connected clients.
    - Unicast: Send a message from a client to a specific other client.
    - Multicast: Send a message from a client to a specific group of other clients.
    - Request-Response: Handle a message by performing some action and then sending a response back to the client that sent the message.
    - Pub-Sub (Publish-Subscribe): Allow clients to subscribe to certain topics or channels and send messages to all clients that have subscribed to a channel when a message is published to it.
    - Pings and Pongs: Use special types of control messages to check the connection status between the client and the server.


1. TCP Connection
    - The TCP Connection is a Layer 4 Protocoll - operates on the Transport Layer
    - On opening a TCP Connection there is a SYN-SYN/ACK-ACK package handshake between Server and Client
    - Once opened, the TCP Connection is "duplex" meaning both Server and Client can send and recieve (talk at the same time)

2. HTTP/HTTPS Connection
    - The HTTP Protocol uses a established TCP Connection to send its Requests/Responses
    - HTTP allows communication only in one direction (Client send Request, Server sends Response - or the other way round)
        - This is by design (even tho it seems like losing a Feature when going from "duplex TCP" up the stack to "simplex HTTP")
        - This allows HTTP to be "stateless". HTTP always sends the full header information on every Request, so the Server does not need to keep track
    - After every Request/Respone the HTTP connection is closed again (but the TCP Connection can stay open - "keep alive")

3. WebSocket Connection
    - The WebSocket Protocol also uses a established TCP Connection to send and recieve
    - The WebSocket Connection uses a initial HTTP Request/Response to "upgrade" the HTTP Connection to a WebSocket Connection, between Client and Server
    - Once the Connection is upgraded from HTTP to WebSocket, the communication is "duplex" again. (Duplex TCP + Duplex WebSocket)
        - This makes WebSocket a state-full connection again (upgrade form HTTP state-less)
        - HTTP is like sending a Letter and waiting for the Server to reply to this one Letter
        - WebSocket is like a Phone call with a open line where both sides can talk at will

- Client establishes a "state-full" and "duplex" TCP Connection
- Client uses the "state-less" and "simplex" HTTP Connection on top of the TCP Connection to establish a WebSocket Connection
- Once upgraded, a "state-full" and "duplex" WebSocket connection is open ontop of the TCP Connection between Server and Client


Here is a great Socket Guide:
https://beej.us/guide/bgnet/html/#intro
https://eklitzke.org/blocking-io-nonblocking-io-and-epoll
